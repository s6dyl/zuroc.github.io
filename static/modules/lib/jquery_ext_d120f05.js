define("lib/jquery_ext",function(){var e;window.devicePixelRatio=window.devicePixelRatio||1,$.extend({escape:function(e){return $("<div/>").text(e).html()}}),$.txt2html=function(e){var r,n,t,i,o;for(n=[],o=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n"),t=0,i=o.length;i>t;t++)r=o[t],n.push($.escape(r));return"<p>"+n.join("</p><p>")+"</p>"},$(document).ajaxError(function(){return $.modal_alert('<h1><p>出错了 !</p><p><a href=".">点此这里</a> 刷新页面试试？</p></h1>')}),e=function(e){return{set:function(r){var n;return e.addClass("error"),n=e.find(".message"),n[0]||(n=$('<div class="message" style="display:none">'),e.append(n)),n.stop(!0).html(r).fadeIn()},reset:function(){var r;return r=e.find(".message").fadeOut(function(){return r.remove(),e.removeClass("error")})}}},$.error_tip=function(r,n){var t,i;return null==n&&(n=1),t=$(r),t[0]?(i=[],{reset:function(){var e,r,n;for(r=0,n=i.length;n>r;r++)e=i[r],e.reset();return i=[]},set:function(r){var o,a,s,l,u,f,c,d,p,h,v,m,g;this.reset(),o=0;for(f in r)if(h=r[f],o+=1,c=t.find("[name="+f+"]"),c[0])if(s=c.parents(".field"),s.length){if(d=e(s),d.value=c.val(),("INPUT"===c[0].tagName||"SELECT"===c[0].tagName)&&(a="checkbox"===c[0].type?"change":"keydown",c[0]._tiper=d,c.bind(""+a+".error",function(){return this.value!==this._tiper.value?(this._tiper.reset(),$(this).unbind(""+a+".error")):void 0})),d.set(h),i.push(d),n)for(g=t.find(".error"),v=0,m=g.length;m>v;v++)if(l=g[v],u=$(l).find("input"),u[0]&&(p=u[0].type,"checkbox"!==p&&"radio"!==p)){u.focus().select();break}}else console.log("[name="+f+"] parents feild NOT FOUND ! ERROR "+h);else console.log("[name="+f+"] NOT FOUND ! ERROR "+h);return o}}):void 0}});